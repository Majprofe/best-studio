---
---

<section
  id="expectations"
  class="bg-black text-white w-screen flex flex-col justify-between py-16 px-4 md:scroll-mt-header"
>
  <div
    class="flex flex-col justify-between items-center xl:flex-row xl:justify-between w-full xl:px-24"
  >
    <!-- Texto a la izquierda -->
    <div
      class="flex flex-col justify-center items-center xl:items-start xl:w-1/2 xl:pr-8 mb-4 w-full"
    >
      <h2 class="text-3xl xl:text-5xl font-extrabold text-center xl:text-left font-poppins tracking-wide pb-20">
        ¿Qué ofrecemos?
      </h2>

      <!-- Barra de progreso -->
      <div class="w-full h-1 bg-gray-700 mb-4 relative overflow-hidden">
        <div id="progress-bar" class="h-1 bg-yellow-500 absolute left-0 top-0 animate-fill-bar"></div>
      </div>

      <div class="mt-6 space-y-6 w-full pb-32">
        <!-- Contenedor de título y descripción -->
        <div id="phrase-container" class="relative h-32">
          <!-- Contenedor dinámico para títulos y descripciones -->
          <h3 id="title" class="absolute top-0 left-0 text-base xl:text-lg font-bold text-center xl:text-left transition-opacity duration-1000 ease-in-out">
            CUIDAMOS DE TI
          </h3>

          <p id="description" class="absolute top-16 left-0 text-xl xl:text-3xl text-left transition-opacity duration-1000 ease-in-out">
            Hacemos todo lo que está en nuestras manos para que poco a poco adhieras el deporte a tu vida de una manera sana y sostenible.
          </p>
        </div>
      </div>
    </div>

    <!-- Imagen a la derecha -->
    <div class="flex justify-center items-center xl:w-1/2 xl:pl-8 mt-6 xl:mt-0">
      <img
        class="w-full h-auto object-contain rounded-lg shadow-lg"
        src="./fotoprincipal.webp"
        alt="Equipo Best Studio"
      />
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const phrases = [
      {
        title: 'CUIDAMOS DE TI',
        description: 'Hacemos todo lo que está en nuestras manos para que poco a poco adhieras el deporte a tu vida de una manera sana y sostenible.',
      },
      {
        title: 'MARCAMOS OBJETIVOS',
        description: 'En nuestras programaciones avanzamos día a día para mejorar y obtener objetivos perceptibles y de calidad.',
      },
      {
        title: 'TU HORA DEL DÍA',
        description: 'Que el tiempo que estés con nosotros sea un momento en el que disfrutes con el grupo, adquieras confianza y sientas el apoyo de nuestros entrenadores y comunidad.',
      },
    ];

    let currentPhraseIndex = 0;
    let intervalTime = 5000; // Tiempo que tarda en cambiar la frase
    const titleElement = document.getElementById('title');
    const descriptionElement = document.getElementById('description');
    const progressBar = document.getElementById('progress-bar');

    function changePhrase() {
      // Ocultar el contenido actual
      titleElement.classList.add('opacity-0');
      descriptionElement.classList.add('opacity-0');

      // Cambiar frase después de la animación de desvanecimiento
      setTimeout(() => {
        currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;

        // Actualizar el contenido con la nueva frase
        titleElement.textContent = phrases[currentPhraseIndex].title;
        descriptionElement.textContent = phrases[currentPhraseIndex].description;

        // Mostrar el nuevo contenido
        titleElement.classList.remove('opacity-0');
        descriptionElement.classList.remove('opacity-0');

        // Reiniciar la barra de progreso
        progressBar.classList.remove('animate-fill-bar');
        void progressBar.offsetWidth; // Forzar reflow
        progressBar.classList.add('animate-fill-bar');
      }, 1000); // Duración del desvanecimiento
    }

    // Configurar el intervalo para cambiar las frases
    setInterval(changePhrase, intervalTime);
  });
</script>

<style>
  /* Barra de progreso personalizada */
  .animate-fill-bar {
    animation: fill-bar 5s linear infinite;
  }

  @keyframes fill-bar {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }

  .bg-yellow-500 {
    background-color: #F4F91D;
  }

  .opacity-0 {
    opacity: 0;
  }
</style>
