---
// slider.astro
title: "Image Slider"
import ButtonAnimated from "./ButtonAnimated.astro";
---

<section class="relative w-full overflow-hidden h-screen">
  <!-- Carrusel de escritorio con animación automática en CSS -->
  <div id="carousel-desktop" class="carousel-desktop hidden md:flex md:w-full">
    <div class="desktop-slide">
      <img src="/carousel/1inicio.webp" alt="Entrenamiento de alta intensidad en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="desktop-slide">
      <img src="/carousel/2inicio.webp" alt="Área de entrenamiento funcional y máquinas en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="desktop-slide">
      <img src="/carousel/3inicio.webp" alt="Ambiente de comunidad en Best Studio Andújar" class="w-full h-screen object-cover" />
    </div>
    <div class="desktop-slide">
      <img src="/carousel/4inicio.webp" alt="Clases de fuerza y resistencia en Best Studio" class="w-full object-cover" />
    </div>
  </div>

  <!-- Carrusel móvil con animación automática en CSS -->
  <div id="carousel-mobile" class="carousel-mobile flex md:hidden w-full">
    <div class="mobile-slide">
      <img src="/carousel/1iniciov.webp" alt="Entrenamiento de alta intensidad en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/2iniciov.webp" alt="Área de entrenamiento funcional y máquinas en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/3iniciov.webp" alt="Clases de fuerza y resistencia en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/4iniciov.webp" alt="Ambiente de comunidad en Best Studio Andújar" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/5iniciov.webp" alt="Ejercicio y salud en el gimnasio Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/6iniciov.webp" alt="Entrenamiento con máquinas modernas en Best Studio" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/7iniciov.webp" alt="Coaching personalizado en Best Studio Andújar" class="w-full h-screen object-cover" />
    </div>
    <div class="mobile-slide">
      <img src="/carousel/8iniciov.webp" alt="Variedad de entrenamientos en Best Studio Andújar" class="w-full h-screen object-cover" />
    </div>
  </div>
</section>

<!-- Letras superpuestas -->
<div class="absolute inset-0 z-30 flex flex-col justify-between h-full text-center">
  <header class="mt-20">
    <h2 id="main-heading" class="text-white font-bold pt-40 text-8xl xl:text-9xl animate-slide-in-bottom">
      KING OF GYMS
    </h2>
    <p id="sub-heading" class="text-white text-4xl xl:text-6xl animate-fade-in-up delay-500">
      Crece entrenando, mejora tu vida
    </p>
  </header>
  <div class="flex flex-col flex-grow justify-end pb-20 xl:pb-48">
    <div class="animate-fade-in-scale animate-delay-[4000ms]">
      <ButtonAnimated />
    </div>
  </div>
</div>

<style>
  /* Carrusel de escritorio: animación automática */
  @media (min-width: 768px) {
    #carousel-mobile {
      display: none; /* Oculta el carrusel móvil en pantallas grandes */
    }
    #carousel-desktop {
      display: flex;
      animation: slideDesktop 15s ease-in-out infinite; /* Mantener cada imagen por 3s y hacer la transición en 1s */
    }
  }

  @media (max-width: 767px) {
    #carousel-desktop {
      display: none; /* Oculta el carrusel de escritorio en pantallas pequeñas */
    }
    #carousel-mobile {
      display: flex;
      animation: slideMobile 27s ease-in-out infinite; /* Duración ajustada para 8 imágenes a 3s cada una */
    }
  }

  .desktop-slide,
  .mobile-slide {
    min-width: 100%;
  }

  /* Animación para el carrusel de escritorio */
  @keyframes slideDesktop {
    0%, 20% { transform: translateX(0); } /* 3 segundos visibles + 1s de transición */
    26.66%, 46.66% { transform: translateX(-100%); }
    53.33%, 73.33% { transform: translateX(-200%); }
    80%, 100% { transform: translateX(-300%); }
  }

  /* Animación para el carrusel móvil */
  @keyframes slideMobile {
    0%, 11.11% { transform: translateX(0); }
    14.8%, 25.9% { transform: translateX(-100%); }
    29.6%, 40.7% { transform: translateX(-200%); }
    44.4%, 55.5% { transform: translateX(-300%); }
    59.2%, 70.3% { transform: translateX(-400%); }
    74%, 85.1% { transform: translateX(-500%); }
    88.8%, 100% { transform: translateX(-600%); }
  }

  /* Animaciones del texto */
  @keyframes slideInBottom {
    0% { transform: translateY(-100%); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes fadeInUp {
    0% { transform: translateY(50px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes fadeInScale {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  .animate-slide-in-bottom { animation: slideInBottom 1.5s ease-out forwards; }
  .animate-fade-in-up { animation: fadeInUp 2s ease-out forwards; }
  .animate-fade-in-scale { animation: fadeInScale 2.5s ease-out forwards; }
  .animate-delay-[500ms] { animation-delay: 500ms; }
  .animate-delay-[4000ms] { animation-delay: 4000ms; }
</style>
